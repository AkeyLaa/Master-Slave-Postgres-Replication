# Postgres Docker Replication (Master-Slave)

Master-Slave-Postgres-Replication.

  * Для начала поднять докер: `docker-compose up`
  * Чтобы посмотреть переменные среды для использования, смотри `docker-compose.yml`.
  * Для использования нескольких ведомых(slave):
    * `docker-compose up`
    * `docker-compose scale pg-slave=3`

## Notes

   *  Пользователь репликации не настроен - используется администратор postgres. Это означает, что учетные данные суперпользователя должны быть идентичны на главном и всех ведомых(slave) устройствах.
   * setup-replication.sh выполняется только при первой инициализации контейнера.
   * Переменная среды REPLICATE_FROM используется только во время инициализации контейнера - если мастер изменяется после инициализации базы данных, вам необходимо вручную настроить файл recovery.conf в данных подчиненных контейнеров.
